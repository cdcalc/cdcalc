buildscript {
    repositories {
        jcenter()
    }
}

plugins {
    id "com.github.cdcalc" version "0.0.10"
}

version = '0.0.1-SNAPSHOT'

cdcalc {
    repository = '../.git'
}

task publish(dependsOn: 'calculateVersion', description: 'Publish artifacts to Nexus', group: 'Publishing') {
    doLast {
        println("Version from calculateVersion $cdcalc.calculatedVersion")
        project.version = cdcalc.calculatedVersion
        println("Version $version")
    }
}

task wrapper(type: Wrapper) {
    gradleVersion = "4.0"
}
